(this["webpackJsonpwhiteboard-collab"]=this["webpackJsonpwhiteboard-collab"]||[]).push([[0],{28:function(e,t,n){e.exports=n(67)},33:function(e,t,n){},34:function(e,t,n){e.exports=n.p+"static/media/logo.ee7cd8ed.svg"},35:function(e,t,n){},62:function(e,t){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(26),i=n.n(r),s=(n(33),n(34),n(35),n(27)),c=n.n(s);n(65);class l extends a.a.Component{constructor(e){super(e),this.socket=c.a.connect("https://mernback-1lla.onrender.com"),this.isDrawing=!1,this.socket.on("canvas-data",(function(e){var t=this,n=setInterval((function(){if(!t.isDrawing){t.isDrawing=!0,clearInterval(n);var o=new Image,a=document.querySelector("#board").getContext("2d");o.onload=function(){a.drawImage(o,0,0),t.isDrawing=!1},o.src=e}}),200)}))}componentDidMount(){this.drawOnCanvas()}componentWillReceiveProps(e){this.ctx.strokeStyle=e.color,this.ctx.lineWidth=e.size}drawOnCanvas(){var e=document.querySelector("#board");this.ctx=e.getContext("2d");var t=this.ctx,n=document.querySelector("#sketch"),o=getComputedStyle(n);e.width=parseInt(o.getPropertyValue("width")),e.height=parseInt(o.getPropertyValue("height"));var a={x:0,y:0},r={x:0,y:0};e.addEventListener("mousemove",(function(e){r.x=a.x,r.y=a.y,a.x=e.pageX-this.offsetLeft,a.y=e.pageY-this.offsetTop}),!1),t.lineWidth=this.props.size,t.lineJoin="round",t.lineCap="round",t.strokeStyle=this.props.color,e.addEventListener("mousedown",(function(t){e.addEventListener("mousemove",s,!1)}),!1),e.addEventListener("mouseup",(function(){e.removeEventListener("mousemove",s,!1)}),!1);var i=this,s=function(){t.beginPath(),t.moveTo(r.x,r.y),t.lineTo(a.x,a.y),t.closePath(),t.stroke(),void 0!=i.timeout&&clearTimeout(i.timeout),i.timeout=setTimeout((function(){var t=e.toDataURL("image/png");i.socket.emit("canvas-data",t)}),1e3)}}render(){return a.a.createElement("div",{class:"sketch",id:"sketch"},a.a.createElement("canvas",{className:"board",id:"board"}))}}var u=l;n(66);class d extends a.a.Component{constructor(e){super(e),this.state={color:"#000000",size:"5"}}changeColor(e){this.setState({color:e.target.value})}changeSize(e){this.setState({size:e.target.value})}render(){return a.a.createElement("div",{className:"container"},a.a.createElement("div",{class:"tools-section"},a.a.createElement("div",{className:"color-picker-container"},"Select Brush Color : \xa0",a.a.createElement("input",{type:"color",value:this.state.color,onChange:this.changeColor.bind(this)})),a.a.createElement("div",{className:"brushsize-container"},"Select Brush Size : \xa0",a.a.createElement("select",{value:this.state.size,onChange:this.changeSize.bind(this)},a.a.createElement("option",null," 5 "),a.a.createElement("option",null," 10 "),a.a.createElement("option",null," 15 "),a.a.createElement("option",null," 20 "),a.a.createElement("option",null," 25 "),a.a.createElement("option",null," 30 ")))),a.a.createElement("div",{class:"board-container"},a.a.createElement(u,{color:this.state.color,size:this.state.size})))}}var h=d;var m=function(){return a.a.createElement(h,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(m,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)})}},[[28,1,2]]]);
//# sourceMappingURL=main.4f170c96.chunk.js.map